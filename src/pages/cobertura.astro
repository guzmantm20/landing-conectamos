---
import WhatsappButton from '../components/WhatsappButton.astro'
import Layout from '../layouts/Layout.astro'
import Footer from '../sections/Footer.astro'
import Header from '../sections/Header.astro'
import CoberturaMap from '../components/CoberturaMap.astro'

const zonas = [
  {
    nombre: 'Jericó',
    estado: 'Cobertura Total',
    detalle: 'Casco urbano y zonas rurales (veredas).',
    color: '#0E74CE',
    lat: 6.1373495,
    lng: -72.5818888,
  },
  {
    nombre: 'Cheva',
    estado: 'Cobertura Total',
    detalle: 'Zona urbana y alrededores rurales.',
    color: '#F96302',
    lat: 6.1544135,
    lng: -72.5463928,
  },
  {
    nombre: 'Chita',
    estado: 'Cobertura Total',
    detalle: 'Disponibilidad en centro urbano y sector rural.',
    color: '#0E74CE',
    lat: 6.0653731,
    lng: -72.4315575,
  },
]

const phone = '573156574722'
const message =
  'Hola! Me gustaría recibir información sobre los planes de internet de Conectamos.'
const whatsappUrl = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`
---

<Layout title='Conectamos - Cobertura'>
  <div class='flex min-h-screen flex-col'>
    <Header />
    <section id='cobertura' class='py-24 bg-[#F8FAFC]'>
      <div class='max-w-7xl mx-auto px-4 sm:px-6'>
        <div class='text-center mb-16'>
          <h2 class='text-primary font-bold tracking-wide uppercase text-sm'>
            Nuestra Red
          </h2>
          <p class='mt-2 text-3xl font-extrabold text-[#1E293B] sm:text-4xl'>
            Zonas de Cobertura Actual
          </p>
          <p class='mt-4 max-w-2xl mx-auto text-xl text-gray-500'>
            Llevamos internet de alta velocidad donde otros no llegan.
            Conectamos el campo y la ciudad.
          </p>
        </div>

        <div class='grid grid-cols-1 lg:grid-cols-3 gap-12 items-start'>
          <div class='space-y-6 lg:col-span-1'>
            {
              zonas.map((zona) => (
                <div
                  class='bg-white p-6 rounded-2xl shadow-sm border-l-4 transition-transform hover:scale-105'
                  style={`border-color: ${zona.color}`}
                >
                  <h3 class='text-xl font-bold text-[#1E293B]'>
                    {zona.nombre}
                  </h3>
                  <div class='flex items-center mt-1 text-green-600 font-semibold text-sm'>
                    <span class='w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2' />
                    {zona.estado}
                  </div>
                  <p class='mt-3 text-gray-500 text-sm'>
                    Servicio garantizado tanto en el **área urbana** como en la
                    **zona rural**.
                  </p>
                </div>
              ))
            }

            <div
              class='mt-8 p-6 bg-primary rounded-2xl text-white shadow-lg shadow-primary/20'
            >
              <h4 class='font-bold mb-2'>¿No ves tu vereda?</h4>
              <p class='text-blue-100 text-sm mb-4'>
                Estamos expandiendo nuestra red constantemente. Consúltanos por
                factibilidad técnica.
              </p>
              <a
                href={whatsappUrl}
                target='_blank'
                class='block text-center bg-white text-primary py-2 rounded-xl font-bold hover:bg-blue-50 transition-colors'
              >
                Consultar mi zona
              </a>
            </div>
          </div>

          <div
            class='lg:col-span-2 w-full rounded-3xl overflow-hidden shadow-2xl border-4 border-white relative group min-h-150'
          >
            <CoberturaMap />
          </div>
        </div>
      </div>
    </section>
    <Footer />
    <WhatsappButton />
  </div>
</Layout>
